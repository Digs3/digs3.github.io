
<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knowledge Base for Web Development (Daniel Dilly)</title>
    <link rel="stylesheet" href="../assets/css/app.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto Slab|Roboto:100,300,300i,400,400i,500,700,900" rel="stylesheet">
    <script type="text/javascript" src="/assets/js/shCore.js"></script>
    <script type="text/javascript" src="/assets/js/shBrushJScript.js"></script>
    <script type="text/javascript" src="/assets/js/shBrushSass.js"></script>
    <script type="text/javascript" src="/assets/js/shBrushXml.js"></script>
    <script type="text/javascript" src="/assets/js/shBrushBash.js"></script>
    <script type="text/javascript" src="/assets/js/shBrushPhp.js"></script>
    <script type="text/javascript" src="/assets/js/shBrushCss.js"></script>
    <link href="/assets/css/shCore.css" rel="stylesheet" type="text/css" />
    <link href="/assets/css/shThemeDefault.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="/assets/css/style.css">
  </head>
  <body>


    <div class="row expanded" id="content" data-equalizer data-equalize-on="medium">
      <div class="column medium-3 large-2" id="left" data-equalizer-watch>
        <div>
        <header class="top-bar" id="kb-nav-top">
        	<div class="top-bar-title">
        		<h1><a href="/">Daniel Dilly</a></h1>
        	</div>
        </header>
        
        <div class="title-bar" data-responsive-toggle="kb-sidebar" data-hide-for="medium">
          <button class="menu-icon" type="button" data-toggle></button>
          <div class="title-bar-title">Menu</div>
        </div>
        <div id="kb-sidebar">
          <h2><a href="/kb/"><i class="fa fa-graduation-cap fa-lg" aria-hidden="true"></i> Knowledge Base</a></h2>
          <nav id="kb-menu">
            <ul class="vertical menu">
              <li><a href="resources.html">Resources</a></li>
              <li class="menu-text">Software Development</li>
              <li><a href="wpfxaml.html">WPF XAML</a></li>
        
              <li class="menu-text">Code</li>
              <li>
                <a href="html5.html"><i class="icon-html5-plain"></i> HTML5</a>
                <ul class="nested vertical menu">
                  <li><a href="html5_forms.html">Forms</a></li>
                </ul>
              </li>
              <li><a href="css.html"><i class="icon-css3-plain"></i> CSS</a></li>
              <li><a href="sass.html"><i class="icon-sass-original"></i> Sass</a></li>
              <li><a href="javascript.html"><i class="icon-javascript-plain"></i> JavaScript</a>
                <ul class="nested vertical menu">
                  <li><a href="ajax.html">Ajax</a></li>
                </ul>
              </li>
              <li><a href="jquery.html"><i class="icon-jquery-plain"></i> jQuery</a></li>
              <li><a href="vuejs.html"><i class="icon-vuejs-plain"></i> Vue.JS</a></li>
        
              <li><a href="handlebars.html">Handlebars.js</a></li>
              <li>
                <a href="php.html"><i class="icon-php-plain"></i> PHP</a>
                <ul class="nested vertical menu">
                  <li><a href="php_mysql.html">MySQL Database</a></li>
                </ul>
              </li>
              <li><a href="mvc.html">MVC</a></li>
              <li><a href="laravel.html"><i class="icon-laravel-plain"></i> Laravel</a></li>
        
              <li><a href="#">XML</a></li>
              <li><a href="#">RegExp</a></li>
        
              <li class="menu-text">Toolkit</li>
              <li><a href="software.html"><i class="icon-uniE695"></i> Software</a></li>
              <li><a href="sublimetext.html"><i class="icon-uniE6AA"></i> Sublime Text</a></li>
              <li><a href="apache.html"><i class="icon-apache-plain-wordmark"></i> Apache</a></li>
              <li><a href="workflows.html">Workflows</a></li>
              <li><a href="nodejs.html"><i class="icon-nodejs-plain"></i> Node.js &amp; NPM</a></li>
              <li><a href="bower.html"><i class="icon-bower-plain"></i> Bower</a></li>
              <li><a href="grunt.html"><i class="icon-grunt-plain"></i> Grunt</a></li>
              <li><a href="gulp.html"><i class="icon-gulp-plain"></i> Gulp</a></li>
              <li><a href="yeoman.html"><i class="icon-uniE67A"></i> Yeoman</a></li>
              <li><a href="git.html"><i class="icon-git-plain"></i> Git</a></li>
              <li><a href="github.html"><i class="icon-github-original"></i> GitHub</a></li>
              <li><a href="github_pages.html"><i class="icon-github-original"></i> GitHub Pages</a></li>
        
        
        
              <li class="menu-text">Database</li>
              <li><a href="#"><i class="icon-mysql-plain"></i> MySQL</a></li>
        
              <li class="menu-text">Frameworks</li>
              <li><a href="foundation.html"><i class="icon-foundation-plain"></i> Foundation</a></li>
              <li><a href="bootstrap.html"><i class="icon-bootstrap-plain"></i> Bootstrap</a></li>
              <li><a href="angular.html"><i class="icon-angularjs-plain"></i> AngularJS</a></li>
        
              <li class="menu-text">CMS</li>
              <li><a href="wordpress.html">WordPress</a></li>
        
              <li class="menu-text">Design</li>
              <li><a href="#">Typography</a></li>
              <li><a href="#">Color</a></li>
        
              <li class="menu-text">More</li>
              <li><a href="seo.html">SEO</a></li>
            </ul>
          </nav>
        </div>
        
        </div>
      </div>
      <div class="column medium-9 large-10" id="right" data-equalizer-watch>
        <article class="kb-article" id="kb-php">
        	<header>
        		<div class="inner">
        		  <h1>PHP - MySQL Database</h1>
        	  </div>
        	</header>
        	<div class="row" id="kb-content">
        	  <div class="columns large-9">
        	  	<h2 id="intro" data-magellan-target="intro">MySQLi &amp; PDO</h2>
        	  	<p>There are two options for working with a MySQL database in PHP 5 and later:</p>
        	  	<ul>
        	  		<li>MySQLi extension</li>
        	  		<li>PDO (PHP Data Objects)</li>
        	  	</ul>
        	  	<p>This article will focus on using the MySQLi extension with the object-oriented API.</p>
        	  	<h2 id="connect" data-magellan-target="connect">Connecting to a Server</h2>
        	  	<pre class="brush: php">
        				<?php
        				  $servername = "localhost";
        				  $username = "username";
        				  $password = "password";
        
        				  // Create connection
        				  $conn = new mysqli($servername, $username, $password);
        
        				  // Check connection
        				  if ($conn->connect_error) {
        					die("Connection failed: " . $conn->connect_error);
        				  } 
        				  echo "Connected successfully";
        				?>
        	  	</pre>
        	  	<p>The connection will be closed automatically when the script ends, but you can close it before with <code>$conn->close();</code></p>
        	  	<h2 id="createdb" data-magellan-target="createdb">Creating a MySQL Database</h2>
        	  	<pre class="brush: php">
        				// Create database
        				$sql = "CREATE DATABASE myDB";
        				if ($conn->query($sql) === TRUE) {
        				  echo "Database created successfully";
        				} else {
        				  echo "Error creating database: " . $conn->error;
        				}
        	  	</pre>
        	  	<h2 id="tables" data-magellan-target="tables">Creating MySQL Tables</h2>
        	  	<pre class="brush: php">
        				// sql to create table
        				$sql = "CREATE TABLE MyGuests (
        				  id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY, 
        				  firstname VARCHAR(30) NOT NULL,
        				  lastname VARCHAR(30) NOT NULL,
        				  email VARCHAR(50),
        				  reg_date TIMESTAMP
        				)";
        
        				if ($conn->query($sql) === TRUE) {
        				  echo "Table MyGuests created successfully";
        				} else {
        				  echo "Error creating table: " . $conn->error;
        				}
        	  	</pre>
        	  	<h2 id="insert" data-magellan-target="insert">Inserting Data</h2>
        	  	<pre class="brush: php">
        $sql = "INSERT INTO MyGuests (firstname, lastname, email)
        VALUES ('John', 'Doe', 'john@example.com')";
        
        if ($conn->query($sql) === TRUE) {
        	$last_id = $conn->insert_id;
        	echo "New record created successfully. Last inserted ID is: " . $last_id;
        } else {
        	echo "Error: " . $sql . "<br>" . $conn->error;
        }
        	  	</pre>
        	  	<h2 id="multiple" data-magellan-target="multiple">Inserting Multiple Records</h2>
        		  <pre class="brush: php">
        $sql .= "INSERT INTO MyGuests (firstname, lastname, email)
        VALUES ('Mary', 'Moe', 'mary@example.com');";
        $sql .= "INSERT INTO MyGuests (firstname, lastname, email)
        VALUES ('Julie', 'Dooley', 'julie@example.com')";
        
        if ($conn->multi_query($sql) === TRUE) {
            echo "New records created successfully";
        } else {
            echo "Error: " . $sql . "<br>" . $conn->error;
        }
        	  	</pre>
        	  	<h2 id="prepared" data-magellan-target="prepared">Prepared Statements</h2>
        	  	<p>A prepared statements is a feature used to execute the same or similar SQL statements repeatedly with high efficiency.  To do this we prepare a template with certain values left unspecified.</p>
        	  	<p>Example:</p>
        	  	<code>INSERT INTO MyGuests VALUES(?,?,?)</code>
        	  	<pre class="brush: php">
        // prepare and bind
        $stmt = $conn->prepare("INSERT INTO MyGuests (firstname, lastname, email) VALUES (?, ?, ?)");
        $stmt->bind_param("sss", $firstname, $lastname, $email);
        
        // set parameters and execute
        $firstname = "John";
        $lastname = "Doe";
        $email = "john@example.com";
        $stmt->execute();
        
        $firstname = "Mary";
        $lastname = "Moe";
        $email = "mary@example.com";
        $stmt->execute();
        
        echo "New records created successfully";
        
        $stmt->close();
        $conn->close();
        	  	</pre>
        	  	<h2 id="select" data-magellan-target="select">Selecting Data</h2>
        	  	<pre class="brush: php">
        				$sql = "SELECT id, firstname, lastname FROM MyGuests";
        				$result = $conn->query($sql);
        
        				if ($result->num_rows > 0) {
        				  // output data of each row
        				  while($row = $result->fetch_assoc()) {
        				    echo "id: " . $row["id"]. " - Name: " . $row["firstname"]. " " . $row["lastname"]. "<br>";
        				  }
        				} else {
        				  echo "0 results";
        				}
        	  	</pre>
        		</div>
        		<div class="columns large-3" data-sticky-container>
        		  <nav id="kb-submenu" class="sticky show-for-large" data-sticky data-top-anchor="kb-content">
        		  	<ul class="vertical menu" data-magellan>
        		  		<li class="menu-text">On this page:</li>
        		  		<li><a href="#intro">MySQL &amp; PDO</a></li>
        		  		<li><a href="#connect">Connecting to a Server</a></li>
        		  		<li><a href="#createdb">Creating a MySQL Database</a></li>
        		  		<li><a href="#tables">Creating MySQL Tables</a></li>
        		  		<li><a href="#insert">Inserting Data</a></li>
        		  		<li><a href="#multiple">Inserting Multiple Records</a></li>
        		  		<li><a href="#prepared">Prepared Statements</a></li>
        		  		<li><a href="#select">Selecting Data</a></li>
        		  	</ul>
        		  </nav>
        		</div>
        	</div>
        </article>
        
      </div>
    </div>


    <script src="../assets/js/app.js"></script>
    <script type="text/javascript">
     SyntaxHighlighter.defaults['gutter'] = false;
     SyntaxHighlighter.defaults['toolbar'] = false;
     SyntaxHighlighter.all();
</script>
  </body>
</html>
